{
    "title" : "REST API By BILEL Documentation",
    "description" : "MUSIC API FOR FATCA PROJECT",
    "license": {
        "name": "MIT",
        "url": "https://opensource.org/licenses/MIT"
      },
      "version": "1.0.0",
      "host": "localhost:3000",
      "basePath": "/api",
      "tags": [
        {
          "name": "Companies",
          "description": "API for Companies Endpoints"
        },
        {
          "name": "Statements",
          "description": "API for Statements/Declarations Endpoints"
        },
        {
          "name": "Users",
          "description": "API for Users Endpoints"
        }
      ],
      "schemes": ["http","https"],
      "consumes": ["application/json"],
      "produces": ["application/json"],
      "paths" :{
        "/users/signup":{
          "post":{
            "tags": ["Users"],
            "summary": "API Endpoint for create User",
            "description" : "Create new User in database",
            "parameters":[
              {
                "name": "user",
                "description": "User params to regitser new user",
                "in": "body",
                "required": "true",
                "schema" : {
                  "$ref" : "#definitions/User"
                }
              }
            ],
            "produces" : ["application/json"],
            "responses":{
              "200":{
                "description" : "New user has Created",
                "schema": {
                 "$ref" : "#definitions/SignupRsp"
                }
              }
            }
          }
        },
        "/users/login":{
          "post":{
            "tags": ["Users"],
            "summary": "API Endpoint to login his/her account",
            "description" : "Login user",
            "parameters":[
              {
                "name": "user",
                "description": "User params to login",
                "in": "body",
                "required": "true",
                "schema" : {
                  "$ref" : "#definitions/UserLogin"
                }
              }
            ],
            "produces" : ["application/json"],
            "responses":{
              "200":{
                "description" : "New user has loggedIn",
                "schema": {
                 "$ref" : "#definitions/UserLoginRsp"
                }
              }
            }
          }
        },
        "/companies":{
         "post":{
           "tags": ["Companies"],
           "summary": "API Endpoint for create a company",
           "description" : "Create new Company in database",
           "parameters":[
             {
               "name": "company",
               "description": "Company params to create new company",
               "in": "body",
               "required": "true",
               "schema" : {
                 "$ref" : "#definitions/Company"
               }
             },
             {
              "name": "authorization",
              "description": "Access token to authorize the user",
              "in": "header",
              "type": "string",
              "required": true
            }
           ],
           "produces" : ["application/json"],
           "responses":{
             "200":{
               "description" : "New Company Created",
               "schema": {
                "$ref" : "#definitions/Company"
               }
             }
           }
         },
         "get":{
          "tags": ["Companies"],
          "summary": "API Endpoint to find all companies",
          "description" : "Find all Companies from the database",
          "parameters":[
            {
              "name": "page",
              "type": "integer",
              "description": "Define the page index for the records",
              "in": "query"
            },
            {
              "name": "perPage",
              "type": "integer",
              "description": "Define the limit for the records i.e 10",
              "in": "query"
            },
            {
              "name": "authorization",
              "description": "Access token to authorize the user",
              "in": "header",
              "type": "string",
              "required": true
            }
          ],
          "produces" : ["application/json"],
          "responses":{
            "200":{
              "description" : "All the Companies",
              "schema": {
               "$ref" : "#definitions/Companies"
              }
            }
          }
        }
        },
        "/companies/{id}":{
          "parameters":[
             {
               "name" : "id",
                "in": "path",
                "required": "true",
                "description": "id of the company",
                "type": "string"

             },
             {
              "name": "authorization",
              "description": "Access token to authorize the user",
              "in": "header",
              "type": "string",
              "required": true
            }
          ],
          "get":{
            "tags": ["Companies"],
            "summary": "API Endpoint to find single Company",
            "description" : "Find one from the database",
            "produces" : ["application/json"],
            "responses":{
              "200":{
                "description" : "Company has found",
                "schema": {
                 "$ref" : "#definitions/Company"
                }
              }
            }
          },
          "delete":{
            "tags": ["Companies"],
            "summary": "API Endpoint to delete the Company",
            "description" : "Delete company from the database",
            "produces" : ["application/json"],
            "responses":{
              "200":{
                "description" : "Company has deleted",
                "schema": {
                 "$ref" : "#definitions/Company"
                }
              }
            }
          },
          "put":{
            "tags": ["Companies"],
            "summary": "API Endpoint for update Company",
            "description" : "Update the existing Company in database",
            "parameters":[
              {
                "name": "company",
                "description": "Company params to update the company",
                "in": "body",
                "schema" : {
                  "$ref" : "#definitions/UpdateCompany"
                }
              }
            ],
            "produces" : ["application/json"],
            "responses":{
              "200":{
                "description" : "Company has Updated",
                "schema": {
                 "$ref" : "#definitions/Company"
                }
              }
            }
          }
        },
        "/statements":{
            "post":{
              "tags": ["Statements"],
              "summary": "API Endpoint for create a statement",
              "description" : "Create new statement in database",
              "parameters":[
                {
                  "name": "statement",
                  "description": "Company params to create new statement",
                  "in": "body",
                  "required": "true",
                  "schema" : {
                    "$ref" : "#definitions/Statement"
                  }
                },
                {
                 "name": "authorization",
                 "description": "Access token to authorize the user",
                 "in": "header",
                 "type": "string",
                 "required": true
               }
              ],
              "produces" : ["application/json"],
              "responses":{
                "200":{
                  "description" : "New statement Created",
                  "schema": {
                   "$ref" : "#definitions/Statement"
                  }
                }
              }
            },
            "get":{
             "tags": ["Statements"],
             "summary": "API Endpoint to find all statements",
             "description" : "Find all statements from the database",
             "parameters":[
               {
                 "name": "page",
                 "type": "integer",
                 "description": "Define the page index for the records",
                 "in": "query"
               },
               {
                 "name": "perPage",
                 "type": "integer",
                 "description": "Define the limit for the records i.e 10",
                 "in": "query"
               },
               {
                 "name": "authorization",
                 "description": "Access token to authorize the user",
                 "in": "header",
                 "type": "string",
                 "required": true
               }
             ],
             "produces" : ["application/json"],
             "responses":{
               "200":{
                 "description" : "All the statements",
                 "schema": {
                  "$ref" : "#definitions/Statements"
                 }
               }
             }
           }
           },
           "/statements/{id}":{
             "parameters":[
                {
                  "name" : "id",
                   "in": "path",
                   "required": "true",
                   "description": "id of the statement",
                   "type": "string"
   
                },
                {
                 "name": "authorization",
                 "description": "Access token to authorize the user",
                 "in": "header",
                 "type": "string",
                 "required": true
               }
             ],
             "get":{
               "tags": ["Statements"],
               "summary": "API Endpoint to find single statement",
               "description" : "Find one from the database",
               "produces" : ["application/json"],
               "responses":{
                 "200":{
                   "description" : "statement has found",
                   "schema": {
                    "$ref" : "#definitions/Statement"
                   }
                 }
               }
             },
             "delete":{
               "tags": ["Statements"],
               "summary": "API Endpoint to delete the statement",
               "description" : "Delete statement from the database",
               "produces" : ["application/json"],
               "responses":{
                 "200":{
                   "description" : "Company has deleted",
                   "schema": {
                    "$ref" : "#definitions/Statement"
                   }
                 }
               }
             },
             "put":{
               "tags": ["Statements"],
               "summary": "API Endpoint for update statement",
               "description" : "Update the existing Statement in database",
               "parameters":[
                 {
                   "name": "statement",
                   "description": "Company params to update the Statement",
                   "in": "body",
                   "schema" : {
                     "$ref" : "#definitions/UpdateStatement"
                   }
                 }
               ],
               "produces" : ["application/json"],
               "responses":{
                 "200":{
                   "description" : "Statement has Updated",
                   "schema": {
                    "$ref" : "#definitions/Statement"
                   }
                 }
               }
             }
           }
        
      },
      "definitions":{
        "SignupRsp":{
         "properties":{
           "success": {
             "type":"boolean"
         }
        }
      },
        "User":{
          "required": ["firstName","lastName", "email", "password"],
          "properties":{
            "_id": {
              "type" : "string"
            },
            "firstName": {
              "type" : "string"
            },
            "lastName": {
              "type" : "string"
            },
            "email": {
              "type" : "string"
            },
            "password": {
              "type" : "string"
            },
            "role": {
              "type": "integer"
            }
          }
        },
        "UserLogin":{
          "required": ["email", "password"],
          "properties":{
            "email": {
              "type" : "string"
            },
            "password": {
              "type" : "string"
            }
          }
        },
        "UserLoginRsp":{
          "properties":{
            "token": {
              "type" : "string"
            }
          }
        },
        "UserCustomRsp":{
            "properties":{
             "firstName" :{
               "type" :"string"
             },
             "lastName" :{
               "type" :"string"
             }
            }
          },
        "Company":{
          "required": ["name","GIIN","address"],
          "properties":{
            "_id": {
              "type" : "string"
            },
            "name": {
              "type" : "string"
            },
            "GIIN": {
              "type" : "string"
            },
            "address": {
                "type" : "string"
              }
          }
        },
        "UpdateCompany":{
          "properties":{
            "name": {
                "type" : "string"
              },
              "GIIN": {
                "type" : "string"
              },
              "address": {
                  "type" : "string"
                }
          }
        },
        "Companies":{
          "properties":{
            "docs": {
              "type" : "array",
              "$ref": "#definitions/Company"
            },
            "total": {
              "type" : "integer"
            },
            "pages": {
              "type" : "integer"
            },
            "limit": {
              "type" : "integer"
            },
            "page":{
              "type": "integer"
            }
          }
        }
        
       
      }
}